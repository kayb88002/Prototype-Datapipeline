
<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">
<!-- BEGIN: Head-->

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="Tatv AI">
    <title>Data-Pipeline</title>
    <link rel="apple-touch-icon" href="app-assets/images/ico/apple-icon-120.png">
    <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.png">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600" rel="stylesheet">

    <!-- BEGIN: Vendor CSS-->
    <link rel="stylesheet" type="text/css" href="app-assets/vendors/css/vendor.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/vendors/css/extensions/swiper.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/vendors/css/charts/apexcharts.css">
    <link rel="stylesheet" type="text/css" href="app-assets/vendors/css/extensions/tether-theme-arrows.css">
    <link rel="stylesheet" type="text/css" href="app-assets/vendors/css/extensions/tether.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/vendors/css/extensions/shepherd-theme-default.css">
    
    <!-- END: Vendor CSS-->

    <!-- BEGIN: Theme CSS-->
    <link rel="stylesheet" type="text/css" href="app-assets/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/bootstrap-extended.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/colors.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/components.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/themes/dark-layout.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/themes/semi-dark-layout.css">

    <!-- BEGIN: Page CSS-->
    <link rel="stylesheet" type="text/css" href="app-assets/css/core/menu/menu-types/horizontal-menu.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/core/colors/palette-gradient.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/pages/dashboard-analytics.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/pages/card-analytics.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/plugins/extensions/swiper.css">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <link href="assets/jvectormap/jvectormap.css" rel="stylesheet">
    <!-- END: Page CSS-->

    <!-- BEGIN: Custom CSS-->
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <!-- END: Custom CSS-->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.5.0/viewer.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.5.0/viewer.min.js"></script>



</head>
<!-- END: Head-->

<!-- BEGIN: Body-->

<body class="horizontal-layout horizontal-menu dark-layout 2-columns footer-static  " data-open="hover" data-menu="horizontal-menu" data-col="2-columns" data-layout="dark-layout">

    <!-- BEGIN: Header-->
    <nav class="header-navbar navbar-expand-lg navbar-fixed">
        <div class="navbar-wrapper">
            <div class="navbar-container content">
                <div class="navbar-collapse" id="navbar-mobile">
                    <div class="mr-auto float-left bookmark-wrapper d-flex align-items-center">
                        
                    </div>
                    <ul class="nav navbar-nav float-right">
                       
                        <li class="nav-item d-none d-lg-block"><a class="nav-link nav-link-expand">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-maximize"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></svg></a></li>





                        <li class="dropdown dropdown-notification nav-item"><a class="nav-link nav-link-label" href="#" data-toggle="dropdown"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bell"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg><span class="badge badge-pill badge-primary badge-up">1</span></a>
                            <ul class="dropdown-menu dropdown-menu-media dropdown-menu-right">
                                <li class="dropdown-menu-header">
                                    <div class="dropdown-header m-0 p-2">
                                        <h3 class="white">1 new</h3><span class="notification-title">Notifications</span>
                                    </div>
                                </li>

                                <li class="scrollable-container media-list">
                                    <a class="d-flex justify-content-between" href="javascript:void(0)">
                                        <div class="media d-flex align-items-start">
                                            <div class="media-left"><i class="feather icon-message-square font-medium-5 primary"></i></div>
                                            <div class="media-body">
                                                <h6 class="primary media-heading">Covid Vaccine</h6><small class="notification-text"> available in India by November, awaiting clearance: Russian Fund CEO</small>
                                            </div><small>
                                                <time class="media-meta" datetime="2020-09-18T18:29:20+08:00">9 hours ago</time></small>
                                        </div>
                                    </a>
                                </li>
                                <li class="dropdown-menu-footer"><a class="dropdown-item p-1 text-center" href="javascript:void(0)">View all notifications</a></li>
                            </ul>
                        </li>

                        <li class="dropdown dropdown-user nav-item"><a class="dropdown-toggle nav-link dropdown-user-link" href="#" data-toggle="dropdown">
                                <div class="user-nav d-sm-flex d-none"><span class="user-name text-bold-600">DataPipeline</span></div><span><img class="round" src="app-assets/images/portrait/small/avatar-s-9.jpg" alt="avatar" height="40" width="40"></span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right"><a class="dropdown-item" href="#"><i class="feather icon-user"></i> Edit Profile</a><a class="dropdown-item" href="#"><i class="feather icon-mail"></i> My Inbox</a><a class="dropdown-item" href="#"><i class="feather icon-check-square"></i> Task</a><a class="dropdown-item" href="#"><i class="feather icon-message-square"></i> Chats</a>
                                <div class="dropdown-divider"></div><a class="dropdown-item" href="#"><i class="feather icon-power"></i> Logout</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
         
 



    <!-- BEGIN: Content-->
    <div class="app-content content" style="padding-top: 40px;">
        <div class="content-overlay"></div>
        <div class="header-navbar-shadow"></div>
        <div class="content-wrapper">
            <div class="content-header row">
            </div>
            <div class="content-body">
                <!-- Dashboard Analytics Start -->
                <section id="dashboard-analytics">

                    <div class="row">
                        <div class="col-lg-4 col-md-12 col-sm-12">
                            <div class="card bg-analytics text-white">
                                <div class="card-header bg-analytics text-white">
                                    <h4 class="card-title">Search your query</h4>
                                </div>
                                <div class="card-content">
                                    <div class="card-body text-center bg-analytics text-white">
                                        <div class="text-center" style="padding-top: 55px; padding-bottom: 56px;">
                                            <div class="row">
                                                <div class="col-lg-8 col-md-12 col-sm-12">
                                                    <input class="form-control" type="text" id="search_query" />
                                                </div>
                                                <div class="col-lg-4">
                                                    <button onclick="searchGoogle();" type="submit" class="btn btn-info" id="btn-one">Search</button>
                                                </div>
                                            </div>
                                            <div class="gcse-search"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-8 col-md-12 col-sm-12">
                            <div class="card bg-analytics text-white">
                                <div class="card-header bg-analytics text-white">
                                    <h4 class="card-title">Summary</h4>
                                </div>
                                <div class="card-content">
                                    <div class="card-body bg-analytics text-white">
                                        <div id="summary" style="color:#ffff;"></div>

                                        <div class="modal fade" id="myModal" role="dialog">
                                            <div class="modal-dialog modal-lg">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal" style="color:#ffff;">&times;</button>
                                                        <div class="col-12">
                                                            <h4 class="modal-title">Summary</h4>
                                                        </div>
                                                    </div>
                                                    <div class="modal-body" id="summary_data" style="height: 80vh; overflow-y: auto;">
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                    	<div class="col-12">
                            <div class="row">
                                <div class="col-lg-4">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4 class="card-title">Sources</h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="card-body">
                                                <div>
                                                <div id="links">
                                                 </div><br><br>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-8 col-md-12 col-sm-12">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4 class="card-title">Knowledge Graph</h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="card-body">
                                               <img id="kg_image" width="100%" height="6%" style="cursor: zoom-in;"></img><br><br>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            
                            </div>

                            <div class="row">

                                <div class="col-lg-4">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4 class="card-title">Sentiment Score</h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="card-body">
                                               <div id="sentiments"></div><br><br>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-8 col-md-12 col-sm-12">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4 class="card-title">Twitter Hashtags</h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="card-body">
                                                <div id="hashtags"></div><br><br>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                                
                        </div>

                        <div class="col-12">
                            <div class="row">
                                <div class="col-12">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4 class="card-title">Latest News</h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="card-body">
                                                <div id="news" style="color:#a6a6a6"></div><br><br>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>



                </section>
                <!-- Dashboard Analytics end -->

            </div>
        </div>
    </div>



    <!-- END: Content-->

    <div class="sidenav-overlay"></div>
    <div class="drag-target"></div>

    <!-- BEGIN: Footer-->
    <footer class="footer footer-static footer-light">
        <p class="clearfix blue-grey lighten-2 mb-0"><span class="float-md-left d-block d-md-inline-block mt-25">&copy; 2021<a class="text-bold-800 grey darken-2" href="https://virtualanalytics.ai" target="_blank">Virtualis Analytica Web Solutions LLP,</a>All rights Reserved</span>
            <button class="btn btn-primary btn-icon scroll-top" type="button"><i class="feather icon-arrow-up"></i></button>
        </p>
    </footer>
    <!-- END: Footer-->

    <script>
            
   //  	function myfunction()
   //  	{

   //  		("#large").modal('toggle');
			// $("#large").html(summary);
   //  	}

            function searchGoogle(){
                $('#btn-one').html('<span class="spinner-border spinner-border-sm mr-1" role="status" aria-hidden="true"></span>Please Wait...').addClass('disabled');
                var query = $("#search_query").val();
               


                $.ajax({
                type:"GET",
                dataType: "json",
                url: "http://52.207.228.134:5000?summary="+query,
                success: function(data){
                    $('#btn-one').html('Search').removeClass('disabled');
                    // console.log(data);
                    jsonData=JSON.stringify(data);
                    jsonD=JSON.parse(jsonData);
                    
                    var summary = jsonD['response'].summary;
                    var news = jsonD['response'].news;
                    
                    var hashtags = jsonD['response'].hashtags;
                    var sentiments = jsonD['response'].sentiments;
                    var link = jsonD['response'].link;

                    var kg_link = jsonD['response'].kg;


                    var str = summary.substring(0,1000);
                    var str = str+'.....<span data-toggle="modal" data-target="#myModal" style="cursor: pointer;">Read More</span>';
                    $('#summary').html(str);


                    $("#summary_data").html(summary);

                    $("#kg_image").attr('src', kg_link);


					// function myfunction() {
					// 	alert("hi");

					// 	// $("#myModalLabel17").modal('toggle');
					// 	// $("#large").html(summary);

					// }
					

                //   $(document).ready(function(){
                //     var maxLength = 500;
                //     $("#summary").each(function(){
                //         var myStr = $(this).text();
                //         if($.trim(myStr).length > maxLength){
                //             var newStr = myStr.substring(0, maxLength);
                //             var removedStr = myStr.substring(maxLength, $.trim(myStr).length);
                //             $(this).empty().html(newStr);
                //             $(this).append(' <a href="javascript:void(0);" class="read-more">read more...</a>');
                //             $(this).append('<span class="more-text">' + removedStr + '</span>');
                //         }
                //     });
                

                //     // $("#summary").click(function(){
                //     //     $(this).siblings(".more-text").contents().unwrap();
                //     //     $(this).remove();

                //     // });
                // });
               
                   

                    $("#news").html(news);
                    $("#hashtags").html(hashtags);

                    const options = {
                    series:sentiments,
                    chart: {
                    height: 350,
                    type: 'radialBar',

          },  
          plotOptions: {
            radialBar: {
              dataLabels: {
                name: {
                  fontSize: '22px',
                },
                value: {
                  fontSize: '16px',
                },
                total: {
                  show: false,
                  label: 'Total',
                }
              }
            }
          },
          labels: ['Positive','Negative','Neutral'],
          };

          const chartss = new ApexCharts(document.querySelector("#sentiments"), options);
          chartss.render();
                


                    $("#links").html(link);
                    

             

                }
            })  

            }

        
            
          </script>

           <script>
                const viewer = new Viewer(document.getElementById('kg_image'), {
                    inline: false,
                    viewed() {
                        viewer.zoomTo(0.4);
                    },
                });
            </script>

        <style type="text/css">
            #summary .more-text{
                display: none;
            }
        </style>

   
    
    <!-- BEGIN: Vendor JS-->
    <script src="app-assets/vendors/js/vendor.min.js"></script>
    <!-- BEGIN Vendor JS-->

    <!-- BEGIN: Page Vendor JS-->
    <script src="app-assets/vendors/js/charts/apexcharts.min.js"></script>
    <script src="app-assets/vendors/js/extensions/tether.min.js"></script>
    <script src="app-assets/vendors/js/extensions/shepherd.min.js"></script>

    <script src="assets/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
    <script src="assets/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
    <script src="assets/gdp-data.js"></script>
    <script src="assets/jvectormap/jquery-jvectormap-us-aea-en.js"></script>
    <script src="assets/jvectormap/jquery-jvectormap-uk-mill-en.js"></script>
    <script src="assets/jvectormap/jquery-jvectormap-us-il-chicago-mill-en.js"></script>
    <script src="assets/jvectormap/jquery-jvectormap-ca-lcc.js"></script>
    <script src="assets/jvectormap/jquery.jvectormap.init.js"></script>
    <!-- END: Page Vendor JS-->

    <!-- BEGIN: Theme JS-->
    <script src="app-assets/js/core/app-menu.js"></script>
    <script src="app-assets/js/core/app.js"></script>
    <script src="app-assets/js/scripts/components.js"></script>
    <!-- END: Theme JS-->

    <!-- BEGIN: Page JS-->
    <script src="app-assets/js/scripts/pages/dashboard-analytics.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <!-- END: Page JS-->

</body>
<!-- END: Body-->

</html>